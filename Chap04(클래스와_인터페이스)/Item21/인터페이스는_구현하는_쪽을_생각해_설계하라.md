# 인터페이스는 구현하는 쪽을 생각해 설계하라

> 자바 8에서는 **디폴트 메서드**가 추가되었는데
디폴트 메서드를 선언하면, 그 인터페이스를 구현한 후 디폴트 메서드를 재정의하지 않은 모든 클래스에서 디폴트 구현이 쓰이게 된다.
> 

## 자바8 이전의 인터페이스

- 자바8 이전버전에서 인터페이스는 계속 존재하였다
그 때 당시에 인터페이스는 추상 클래스말고는 어떠한 클래스도 가질 수 없었다
- 자바 8 이전에서 인터페이스는 무조건 추상 메서드만 가질것이라는 전제 하에 인터페이스를 implement한 클래스는 사실상 디폴트 메서드의 존재를 모른채 삽입된다

<aside>

📌 자바 8에서 `Collection`에 추가된 `removeIf` 디폴트 메서드를 예를 들자면<br>
아파치버전 `SynchronizedCollection`과 `Collection`은 비슷하지만…<br>
아파치 버전은 클라이언트가 제공한 객체로 `락`을 거는 능력을 추가로 제공한다 <br>
아파치의 `SynchronizedCollection` 클래스는 지금도 활발히 관리되고 있지만 `removeIf` <br>메서드를 재정의하지 않고 있다 <br>
이는 다시말해 모든 메서드 호출을 알아서 동기화 해주지 못한다 `removeIf`의 구현은 <br>동기화에 관해 아무것도 모르므로 `락` 객체를 사용할 수 없다

</aside>

→ **결국 디폴트 메서드는 (컴파일에 성공하더라도) 기존 구현체에 런타임 오류를 일으킬 수 있다**

<aside>

📌 디폴트 메서드는 인터페이스로부터 메서드를 제거하거나 기존 메서드의 시그니처를 수정하는 용도가 아님을 명심해야 한다

</aside>

## 결론

- 기존 인터페이스에 디폴트 메서드로 새 메서드를 추가하는 일은 꼭 필요한 경우가 아니면 피해야 한다
- 반면, 새로운 인터페이스를 만드는 경우라면 표준적인 메서드 구현을 제공하는데 아주 유용한 수단이며, 그 인터페이스를 더 쉽게 구현해 활용할 수 있게끔 해준다 <br>
**하지만 세심한 주의가 필요하며 릴리스 전에 반드시 테스트를 거쳐야 한다.**